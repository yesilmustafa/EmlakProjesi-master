"use strict";!function(e){function o(o){var n=e(o);n.length&&n.parsley().on("form:success",function(e){return app.notifier.showSuccess("You have been successfully subscribed!"),!1}).on("form:error",function(e){return app.notifier.showError("Subscription failed! Please try again."),!1})}function n(o){var n=e(o);if(n.length){var t=n.find(":submit");n.parsley().on("form:success",function(o){t.addClass("loading"),t.prop("disabled",!0),e.post("php/contact.php",n.serialize()).done(function(){app.notifier.showSuccess("The message was sent!"),o.reset(),n[0].reset()}).fail(function(){app.notifier.showError("Something went wrong!")}).always(function(){t.prop("disabled",!1),t.removeClass("loading")}),o.submitEvent.preventDefault()})}}function t(o){var n=e(o);if(n.length){app.createPhotoSwipe(o,{})}}function a(o){var n=e(o),t=e(".widget select");n.length&&n.select2(),t.length&&t.select2()}function s(o){var n=e(o);n.length&&n.find(".js-slick-slider").slick({dots:!1,infinite:!0,speed:300,slidesToShow:5,autoplay:!0,prevArrow:n.find(".js-partners-prev"),nextArrow:n.find(".js-partners-next"),responsive:[{breakpoint:1100,settings:{slidesToShow:4}},{breakpoint:1e3,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:1}}]})}function i(o){var n=e(o);n.length&&plyr.setup()}function r(o){var n=e(o);n.length&&n.find(".js-slick-slider").slick({dots:!0,infinite:!0,speed:800,slidesToShow:1,autoplay:!0,autoplaySpeed:5e3})}function l(o){function n(){l||"lg"===app.gridSize.get()&&requestAnimationFrame(function(){i.hasClass("navbar--overlay")&&(s.addClass("header--white"),i.addClass("navbar--overlay-map")),r.addClass("opened"),a.removeClass("search--banner-sidebar").addClass("search--map-sidebar").addClass("search--map-sidebar-fix"),l=!0})}var t=e(o);if(t.length){var a=t.find(".js-search-form"),s=e(".header"),i=e("#header-nav"),r=t.find(".map");t.addClass("banner--play"),a.on("formChange",_.throttle(n,500)),c(o),v(".js-map-index-canvas");var l=!1}}function c(o){if(e("#banner-line").length){var n=e(o),t=n.find(".js-search-form");new app.Vivus("banner-line",{type:"async",start:"autostart",ignoreInvisible:!1,duration:50},function(){var o=e("#banner-line").closest(".slider__item");(!o.hasClass("slick-slide")||o.hasClass("slick-active"))&&(n.find(".js-arrow-end").css({opacity:1}),t.addClass("search--anim"))})}}function p(o){var n=e(o);if(n.length){var t=n.find(".js-slick-slider");t.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,lazyLoad:"progressive",prevArrow:n.find(".js-banner-prev"),nextArrow:n.find(".js-banner-next"),responsive:[{breakpoint:1300,settings:{centerMode:!1,variableWidth:!1,arrows:!0}}]}),t.on("setPosition",function(e,o){n.addClass("slider--init")})}}function d(o){if("xs"!==app.gridSize.get()){var n=e(o),t=n.find(".js-slick-slider");t.slick({dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:600,slidesToShow:1,lazyLoad:"progressive",accessibility:!1,arrows:!1,focusOnSelect:!1})}}function f(o){function n(){t.trigger("formChange")}var t=e(o),a=t.find(".js-select-checkboxes"),s=t.find(".js-select-checkboxes"),i=t.find(".js-search-range"),r=t.find('input[type="text"]'),l=t.find("textarea"),c=t.find("select"),p=t.find('input[type="checkbox"]');a.each(function(){var o=e(this),n=e(this).prev(".js-select-checkboxes-btn"),t=n.data("placeholder");o.find(".in-checkbox").change(function(){var o,a,s=[];o=e(this).closest(".js-select-checkboxes"),e(o).find(".in-checkbox:checked").each(function(){var o=e(this).next("label").text();s.push(o)}),a=s.join(", ")||t,e(n).text(a)})}),e(".js-select-checkboxes-reset").on("click",function(){var o=e(this),n=o.closest(".js-select-checkboxes");n.find('input[type="checkbox"]').prop({checked:!1,indeterminate:!1}),n.find('input[type="checkbox"]').first().trigger("change")}),e(".js-select-checkboxes-accept").on("click",function(){var o=e(this),n=o.closest(".js-select-checkboxes");n.closest(".dropdown").removeClass("open")}),e(".js-form-reset").on("click",function(){r.val(""),l.text(""),c.each(function(o,n){e(n).find("option").removeAttr("selected"),e(n).trigger("change")}),p.prop({checked:!1,indeterminate:!1}),s.each(function(o,n){e(n).find('input[type="checkbox"]').first().trigger("change")}),i.each(function(o,n){var t=e(n).data("ionRangeSlider");t.reset()})}),e("body").on("click",".js-dropdown-menu",function(e){e.stopPropagation()});var d=e("#region");d.length&&(d.bonsai(),d.qubit());var f=_.debounce(n,500);i.on("change",f),r.on("input",n),l.on("change",n),c.on("change",n),p.on("change",n)}function m(){var o=e("#range_area"),n=e("#range_price"),t=e("#range_room"),a=e("#range_ui");o.length&&o.ionRangeSlider({type:"double",min:0,max:2e3,hide_min_max:!0,hide_from_to:!1,grid:!1,postfix:" sq ft",force_edges:!0,step:10,max_postfix:"+"}),n.length&&n.ionRangeSlider({type:"double",min:0,max:5e6,hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:"$",force_edges:!0,max_postfix:"+",step:1e3,prettify:function(e){return app.utils.abbreviateNumber(e)}}),t.length&&t.ionRangeSlider({type:"double",min:0,max:10,from:0,to:10,hide_min_max:!0,hide_from_to:!1,grid:!1,max_postfix:"+"}),a.length&&a.ionRangeSlider({type:"double",min:1e3,max:2e3,from:1200,to:1800,hide_min_max:!0,hide_from_to:!1,grid:!1})}function g(o){var n=e(o);n.length&&n.each(function(){var o=e(this),n=o.find(".js-slick-current"),t=o.find(".js-slick-total");o.find(".js-slick-slider").on("init",function(e,o){t.html(o.slideCount)}).slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!1,prevArrow:o.find(".js-slick-prev"),nextArrow:o.find(".js-slick-next")}).on("afterChange",function(e,o,t){n.html(t+1+" /")})})}function h(o,n){var t=e(o);t.length&&!function(){var o=new google.maps.LatLng(n.lat,n.lng),a=7,s=e(".js-map-btn");app.createGoogleMap(t,{zoom:a,center:o,scrollwheel:!1,zoomControl:!0,mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}},s,function(e){app.createGmapMarker(e,o,n.address)})}()}function u(o){var n=e(o);n.length&&n.on("click",function(){var o=e(this),n=o.data("state")||"success";return o.addClass("loading"),setTimeout(function(){o.addClass("progress")},500),setTimeout(function(){o.removeClass("loading"),o.removeClass("progress"),o.addClass(n)},1e3),!1})}function v(o,n){var t=e(o);if(t.length){var a=10,s=new google.maps.LatLng(33.74229160384012,-117.86845207214355),i=[];requestAnimationFrame(function(){app.createGoogleMap(t,{zoom:a,center:s,scrollwheel:!1,zoomControl:!0,mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}},e(".js-map-btn"),function(e){i=[],_.each(n,function(o){var n=T(o),a=app.createGmapInfoboxMarker(e,new google.maps.LatLng(o.lat,o.lng),o.address,n,t.data("infoboxTheme"));i.push(a)}),app.createGmapClustering(e,i)})})}}function C(o,n,t){var a=e(o),s=e(n);if(a.length&&s){var i,r=new google.maps.LatLng(t.lat,t.lng),l=10,c=e(".js-map-btn"),p=e(".js-panorama-btn");if(app.createGoogleMap(a,{zoom:l,center:r,scrollwheel:!1,mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}},c,function(e){var o=T(t);app.createGmapInfoboxMarker(e,r,t.address,o,a.data("infoboxTheme"))}),app.createGooglePanorama(s,{position:r,pov:{heading:34,pitch:10},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}},p),"lg"===app.gridSize.get()||"md"===app.gridSize.get()){i=c.add(p).filter(".active");var d=function(o){i&&i.removeClass("active"),i=e(o),i.addClass("active")};c.on("click",function(){d(this),s.css({zIndex:5}),a.css({zIndex:10})}),p.on("click",function(){d(this),s.css({zIndex:10}),a.css({zIndex:5})})}else c.removeClass("active")}}function b(o){var n=e(o);if(n.length){var t=e(o+"-block");n.each(function(){e(this).parsley().on("form:success",function(e){return app.notifier.showSuccess("You have successfully submit the form!"),!1}).on("form:error",function(o){return app.notifier.showError("Submited failed! Please try again."),_.each(t,function(o){var n,t=e(o).find(".parsley-required"),a=e(o).attr("id");t.length&&(e(o).addClass("opened"),e('[data-rel="#'+a+'"]').addClass("active"),n=e(o).find("#autocomplete-map"),n.length&&google.maps.event.trigger(n[0],"resize"))}),!1})})}}function x(o){var n=e(o);n.length&&n.popover()}function j(o,n){var t=e(o);t.length&&app.createGeocoderGoogleMap({container:t,map:{center:new google.maps.LatLng(n.lat,n.lng)},autocomplete:{componentRestrictions:{country:"us"}}})}function w(o,n){var t=e(o);if(t.length){var a=10,s=new L.LatLng(33.74229160384012,-117.86845207214355);app.createLeafletMap(t,{zoom:a,center:s,zoomControl:!1,scrollWheelZoom:!1},e(".js-map-btn"),function(e){e.invalidateSize(),_.each(n,function(o){var n=T(o);app.createLeafletInfoboxMarker(e,new L.LatLng(o.lat,o.lng),o.address,n,t.data("infoboxTheme"))})})}}function T(e){var o;return o="assets/media-demo/properties/277x180/"+e.image+".jpg","<span class='map__address'>"+e.address+"</span> <span class='map__info'><img  class='map__photo' src='"+o+"'/><span class='map__details'> <dl><dt>Type:</dt> <dd>"+e.type+"</dd></dl><dl><dt>Area:</dt> <dd>"+e.area+" m2</dd></dl><dl><dt>Bedrooms:</dt> <dd>"+e.bedrooms+"</dd></dl></span></span> <span class='map__price'><strong>$"+e.price+"</strong></span> <a  class='map__more' href='property_details.html'>Details</a>"}app.initTheme({colorTheme:"default",loadSvgWithAjax:!1}),app.activateHeaderSpy(),app.activateScrollToTopSpy(),app.activateUIPanel(),app.scrollAnimation(),i(".player"),s("#partners-slider"),a(".js-in-select"),f(".js-search-form"),t(".js-gallery-item"),n(".js-contact-form"),o(".js-subscribe-form"),r("#review-slider"),l(".js-banner"),p("#slider-wide"),d(".js-banner-slider"),v(".js-map-index-canvas",window.demodata),C('.js-map-canvas[data-type="map"]','.js-map-canvas[data-type="panorama"]',window.demodata[3]),b(".js-form"),m(),g(".js-slick-blog"),g("#counter-slider"),g("#properties-banner"),h(".js-map-canvas-contact",window.demodata[3]),u(".js-btn-demo"),x(".js-popover"),j("#autocomplete-map",{lat:37.7749295,lng:-122.41941550000001}),w(".js-map-canvas",window.demodata)}(jQuery);